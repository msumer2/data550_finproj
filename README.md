# DATA 550 Final Project

## Project Description
This project analyzes the __"Predict Students' Dropout and Academic Success"__ dataset from the UC Irvine Machine Learning Repository. The analysis explores factors associated with student dropout and academic success among 4,242 Portuguese higher education students, examining demographic patterns, academic performance trends, and socio-economic influences on student outcomes.

## Report Contents
The final report includes:
- Introduction to the data set and research objectives
- Descriptive statistics of student characteristics by academic outcome (dropout, enrolled, graduate)
- Analysis of demographic patterns and academic performance
- Visualization of academic performance trajectories over time
- Key findings on factors associated with student dropout and success

## Required Table
To generate table one:
- Code is located in `code/table_one.R`
- Referenced in chunk titled `table-one` in `final_report.Rmd`

## Required Figure
To generate figure one:
- Code is located in `code/figure_one.R`
- Referenced in chunk titled `figure-one` in `final_report.Rmd`

---

## Generating Automated Final Report

### Option 1: Using Docker Hub Image
**Docker Hub**: [msumer2/final_image:latest](https://hub.docker.com/r/msumer2/final_image)
The image is publicly available and will be automatically pulled when building the report.

#### Mac/Linux
As defined in the `Makefile`, you can run the `docker_image` target, or simply run `make`. The compiled report will appear in `report/final_report.html`.
```bash
make docker_image
```

#### Windows
```bash
mkdir -p report
docker run -it -v \"$(pwd)/report":/project/report msumer2/final_image:latest
```

### Option 2: Build Docker Image Locally 
As defined in the `Makefile`, Docker will automatically download the image from Docker Hub. While the steps below are not required to build this report, you can follow these instructions to build the Docker image locally if you prefer:

#### 1. Build the image
***Note:*** *replace "msumer2" with your dockerhub username and "final_image" with your preferred image name.*
```bash
docker build -t <custom_image_name> .
```

#### 2. Make the report
```bash
make docker_image IMAGE = <custom_image_name>
```
***Note:*** *By default, `make docker_image` uses the pre-built image from Docker Hub (`msumer2/final_image:latest`). Use `IMAGE= <custom_image_name>`to use your local image build.*

---

## Repository Contents
- `code/` - contains the student records (`data.csv`), the figure one and table one code (`table_one.R`, `figure_one.R`), and the code to render the report (`render_report.R`)
- `output/` - contains the intermediate outputs (`figure1.rds` and `table1.rds`) referenced in the R Markdown file 
- `report/` - output directory for the final compiled report (generated by Docker and Make)
- `renv/`, `renv.lock`,`.Rprofile`- R package management for reproducibility
- `Dockerfile` - contains instructions to build the Docker image
- `Makefile` - contains rules to automate the final report build
- `final_report.Rmd` - the R Markdown file for the final report
- `README.md` - this document

--- 

## Makefile Targets
| Target | Description |
| :----- | :---------- |
| `make docker_image` | Runs Docker container to generate report |
| `make` | Generates final report |
| `make install` | Restores R packages locally |
| `make clean` | Removes generated output files |

--- 

## Package Management
This project uses `renv` for package management. 
*Required packages are automatically installed in the Docker image based on `renv.lock`.*

### Local Development
- To restore packages: `make install` or `renv::restore()` in R.
- To update packages: `renv::snapshot()` in R after updating packages.
